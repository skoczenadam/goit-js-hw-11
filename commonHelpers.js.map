{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector(\"form\");\nconst input = document.querySelector(`input[type=text]`);\nconst gallery = document.querySelector(\"ul\");\nconst loader = document.querySelector(\"div\");\n\nconst reset = () => {\n  gallery.innerHTML = \"\";\n  input.value = \"\";\n}\n\nconst getPixabay = e => {\n  e.preventDefault();\n  const question = input.value;\n  reset();\n\n  if (gallery.innerHTML !== \"\") {\n    loader.classList.add(\"disable\");\n  } else {\n    loader.classList.remove(\"disable\");\n  }\n  \n  const getPixaInfo = new URLSearchParams({\n    key: \"33296379-dab9a6cf136214dcc7548d115\",\n    q: question,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  });\n\n  fetch(`https://pixabay.com/api/?${getPixaInfo}`)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(galleryList => {\n      const galleryLi = galleryList.hits.map(image => {\n        return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n          <img class=\"gallery-image\"\n          src=\"${image.webformatURL}\" \n          alt=\"${image.tags}\"\n          /><div class=\"info\">\n          <p class=\"info-group\"><span class=\"info-text\">Likes</span> <span class=\"info-number\">${image.likes}</span></p>\n          <p class=\"info-group\"><span class=\"info-text\">Views</span> <span class=\"info-number\">${image.views}</span></p>\n          <p class=\"info-group\"><span class=\"info-text\">Comments</span> <span class=\"info-number\">${image.comments}</span></p>\n          <p class=\"info-group\"><span class=\"info-text\">Downloads</span> <span class=\"info-number\">${image.downloads}</span></p>\n          </div>\n          </a>\n        </li>`\n      })\n        .join(\"\");\n      gallery.insertAdjacentHTML(\"beforeend\", galleryLi);\n\n      if (gallery.innerHTML !== \"\") {\n        loader.classList.add(\"disable\");\n      } else {\n        loader.classList.remove(\"disable\");\n      }\n\n      if (galleryList.total === 0) {\n        loader.classList.add(\"disable\");\n        iziToast.show({\n          message: 'âŒSorry, there are no images matching your search query. Please try again!',\n          color: 'red',\n          position: 'topRight'\n        })\n      }\n      const lightbox = new SimpleLightbox(`.gallery a`, {\n        captionDelay: 250,\n      });\n\n      lightbox.refresh();\n\n    })\n    .catch(error => console.log(error));\n}\n\nform.addEventListener(\"submit\", getPixabay);"],"names":["form","input","gallery","loader","reset","getPixabay","e","question","getPixaInfo","response","galleryList","galleryLi","image","iziToast","SimpleLightbox","error"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAU,SAAS,cAAc,IAAI,EACrCC,EAAS,SAAS,cAAc,KAAK,EAErCC,EAAQ,IAAM,CAClBF,EAAQ,UAAY,GACpBD,EAAM,MAAQ,EAChB,EAEMI,EAAaC,GAAK,CACtBA,EAAE,eAAc,EAChB,MAAMC,EAAWN,EAAM,MACvBG,IAEIF,EAAQ,YAAc,GACxBC,EAAO,UAAU,IAAI,SAAS,EAE9BA,EAAO,UAAU,OAAO,SAAS,EAGnC,MAAMK,EAAc,IAAI,gBAAgB,CACtC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,MAAM,4BAA4BC,CAAW,EAAE,EAC5C,KAAMC,GAAa,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAe,CACnB,MAAMC,EAAYD,EAAY,KAAK,IAAIE,GAC9B;AAAA,wCACyBA,EAAM,aAAa;AAAA;AAAA,iBAE1CA,EAAM,YAAY;AAAA,iBAClBA,EAAM,IAAI;AAAA;AAAA,iGAEsEA,EAAM,KAAK;AAAA,iGACXA,EAAM,KAAK;AAAA,oGACRA,EAAM,QAAQ;AAAA,qGACbA,EAAM,SAAS;AAAA;AAAA;AAAA,cAI7G,EACE,KAAK,EAAE,EACVV,EAAQ,mBAAmB,YAAaS,CAAS,EAE7CT,EAAQ,YAAc,GACxBC,EAAO,UAAU,IAAI,SAAS,EAE9BA,EAAO,UAAU,OAAO,SAAS,EAG/BO,EAAY,QAAU,IACxBP,EAAO,UAAU,IAAI,SAAS,EAC9BU,EAAS,KAAK,CACZ,QAAS,4EACT,MAAO,MACP,SAAU,UACpB,CAAS,GAEc,IAAIC,EAAe,aAAc,CAChD,aAAc,GACtB,CAAO,EAEQ,QAAO,CAEtB,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,EAEAf,EAAK,iBAAiB,SAAUK,CAAU"}