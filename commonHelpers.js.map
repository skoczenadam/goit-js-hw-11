{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector(\"form\");\nconst input = document.querySelector(`input[type=text]`);\nconst button = document.querySelector(`button[type=submit]`);\nconst galleryLists = document.querySelector(\"ul\");\nconst loader = document.querySelector(\"div\");\n\nconst reset = () => {\n  galleryLists.innerHTML = \"\";\n  input.value = \"\";\n}\n\nconst getPixabay = e => {\n  e.preventDefault();\n  const question = input.value;\n  reset();\n\n  if (galleryLists.innerHTML !== \"\") {\n    loader.classList.add(\"disable\");\n  } else {\n    loader.classList.remove(\"disable\");\n  }\n  \n  const getPixaInfo = new URLSearchParams({\n    key: \"33296379-dab9a6cf136214dcc7548d115\",\n    q: question,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  });\n\n  fetch(`https://pixabay.com/api/?${getPixaInfo}`)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(gallery => {\n      const galleryLi = gallery.hits.map(image => {\n        return `<li>\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n          <p>Likes: ${image.likes}</p>\n          <p>Views: ${image.views}</p>\n          <p>Comments: ${image.comments}</p>\n          <p>Downloads: ${image.downloads}</p>\n        </li>`\n      })\n        .join(\"\");\n      galleryLists.insertAdjacentHTML(\"beforeend\", galleryLi);\n\n      if (galleryLists.innerHTML !== \"\") {\n        loader.classList.add(\"disable\");\n      } else {\n        loader.classList.remove(\"disable\");\n      }\n\n      if (gallery.total === 0) {\n        loader.classList.add(\"disable\");\n        iziToast.show({\n          message: '❌Sorry, there are no images matching your search query. Please try again!',\n          color: 'red',\n          position: 'topRight'\n        })\n      }\n\n    })\n    .catch(error => console.log(error));\n}\n\nform.addEventListener(\"submit\", getPixabay);"],"names":["form","input","galleryLists","loader","reset","getPixabay","e","question","getPixaInfo","response","gallery","galleryLi","image","iziToast","error"],"mappings":"svBAGA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAQ,SAAS,cAAc,kBAAkB,EACxC,SAAS,cAAc,qBAAqB,EAC3D,MAAMC,EAAe,SAAS,cAAc,IAAI,EAC1CC,EAAS,SAAS,cAAc,KAAK,EAErCC,EAAQ,IAAM,CAClBF,EAAa,UAAY,GACzBD,EAAM,MAAQ,EAChB,EAEMI,EAAaC,GAAK,CACtBA,EAAE,eAAc,EAChB,MAAMC,EAAWN,EAAM,MACvBG,IAEIF,EAAa,YAAc,GAC7BC,EAAO,UAAU,IAAI,SAAS,EAE9BA,EAAO,UAAU,OAAO,SAAS,EAGnC,MAAMK,EAAc,IAAI,gBAAgB,CACtC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,MAAM,4BAA4BC,CAAW,EAAE,EAC5C,KAAMC,GAAa,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAW,CACf,MAAMC,EAAYD,EAAQ,KAAK,IAAIE,GAC1B;AAAA,sBACOA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA,sBACtCA,EAAM,KAAK;AAAA,sBACXA,EAAM,KAAK;AAAA,yBACRA,EAAM,QAAQ;AAAA,0BACbA,EAAM,SAAS;AAAA,cAElC,EACE,KAAK,EAAE,EACVV,EAAa,mBAAmB,YAAaS,CAAS,EAElDT,EAAa,YAAc,GAC7BC,EAAO,UAAU,IAAI,SAAS,EAE9BA,EAAO,UAAU,OAAO,SAAS,EAG/BO,EAAQ,QAAU,IACpBP,EAAO,UAAU,IAAI,SAAS,EAC9BU,EAAS,KAAK,CACZ,QAAS,4EACT,MAAO,MACP,SAAU,UACpB,CAAS,EAGT,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,EAEAd,EAAK,iBAAiB,SAAUK,CAAU"}